<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tab1"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ producto?.nombre }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div *ngIf="producto">
    <ion-card>
      <img [alt]="producto?.nombre" [src]="producto?.imagen || 'assets/default-image.jpg'" />
      <ion-card-header>
        <ion-card-title>{{ producto.nombre }}</ion-card-title>
        <ion-card-subtitle>{{ producto.category }}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <p><strong>Precio:</strong> {{ producto.precio | currency }}</p>
        <p><strong>Dulzura:</strong> {{ producto.sweetness }}</p>
      </ion-card-content>
    </ion-card>
  </div>

  <div *ngIf="!producto">
    <p>Producto no disponible</p>
  </div>

  <!-- Formulario de pedido -->
  <ion-list>
    <ion-item>
      <ion-label>Tamaño del pastel</ion-label>
      <ion-select [(ngModel)]="pedido.tamano">
        <ion-select-option value="Pequeño">Pequeño</ion-select-option>
        <ion-select-option value="Mediano">Mediano</ion-select-option>
        <ion-select-option value="Grande">Grande</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>Forma del pastel</ion-label>
      <ion-select [(ngModel)]="pedido.forma">
        <ion-select-option value="Redondo">Redondo</ion-select-option>
        <ion-select-option value="Cuadrado">Cuadrado</ion-select-option>
      </ion-select>
    </ion-item>
  
    <ion-item>
      <ion-label>Sabor del pan</ion-label>
      <ion-input [(ngModel)]="pedido.sabor"></ion-input>
    </ion-item>
  
    <ion-item>
      <ion-label>Relleno</ion-label>
      <ion-input [(ngModel)]="pedido.relleno"></ion-input>
    </ion-item>
  
    <ion-item>
      <ion-label>Decoración</ion-label>
      <ion-input [(ngModel)]="pedido.decoracion"></ion-input>
    </ion-item>
  
    <ion-item>
      <ion-label>Mensaje en el pastel</ion-label>
      <ion-input [(ngModel)]="pedido.mensaje"></ion-input>
    </ion-item>


  </ion-list>
<!-- Recomendaciones -->
<h2 class="section-title">Te recomendamos</h2>
<ion-list>
  <ion-item *ngFor="let recomendado of recomendaciones" (click)="agregarRecomendado(recomendado)">
    <ion-thumbnail slot="start">
      <img [src]="recomendado.imagen || 'assets/default-image.jpg'" />
    </ion-thumbnail>
    <ion-label>
      <h3>{{ recomendado.nombre }}</h3>
      <p>{{ recomendado.precio | currency }}</p>
    </ion-label>
    <ion-button slot="end" fill="outline">Añadir</ion-button>
  </ion-item>
</ion-list>
  <!-- Botones -->
  <!-- <ion-button expand="full" (click)="hacerPedido()">Hacer Pedido</ion-button> -->
  <ion-button expand="full" color="secondary" (click)="procederAlPago()">Pagar Ahora</ion-button>
</ion-content>